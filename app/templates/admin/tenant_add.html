{% extends '_dashboard_base.html' %}
{% block title %}
  Add Tenant / Shop
{% endblock %}
{% block nav_tenants %}
  active
{% endblock %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h3 class="mb-0">Add Tenant / Shop</h3>
    <a class="btn btn-outline-light" href="/admin/tenants"><i class="bi bi-arrow-left"></i> Back to Tenants</a>
  </div>

  {% if form_error %}
    <div class="alert alert-danger mb-3">{{ form_error }}</div>
  {% endif %}

  <form method="post" action="/admin/tenants/add" class="card p-4" style="max-width: 880px;">
    <div class="row g-3">
      <div class="col-md-6">
        <label class="form-label">Shop Name *</label>
        <input type="text" name="name" class="form-control" placeholder="e.g. G3 Fashion" required />
      </div>

      <div class="col-md-6">
        <label class="form-label">Language</label>
        <input type="text" name="language" class="form-control" value="en-IN" placeholder="e.g. en-IN" />
      </div>

      <div class="col-md-6">
        <label class="form-label">Admin Email *</label>
        <input type="email" name="email" class="form-control" placeholder="owner@shop.com" required />
        <div class="form-text">This email will also be used to create the tenant admin user.</div>
      </div>

      <div class="col-md-6">
        <label class="form-label">Admin Password *</label>
        <input type="password" name="password" class="form-control" placeholder="••••••••" required />
        <div class="form-text">Will be saved on the users table as hashed_password (role=tenant_admin).</div>
      </div>

      <div class="col-md-6">
        <label class="form-label">WhatsApp Number</label>
        <input type="text" name="whatsapp_number" class="form-control" placeholder="+91XXXXXXXXXX" />
      </div>

      <div class="col-md-6">
        <label class="form-label">Phone Number</label>
        <input type="text" name="phone_number" class="form-control" placeholder="+91XXXXXXXXXX" />
      </div>

      <div class="col-12">
        <label class="form-label">Address</label>
        <input type="text" name="address" class="form-control" placeholder="Street, City" />
      </div>

      <div class="col-12">
        <div class="form-check form-switch">
          <input class="form-check-input" type="checkbox" id="is_active" name="is_active" checked />
          <label class="form-check-label" for="is_active">Active</label>
        </div>
      </div>

      <div class="col-12 mt-2">
        <button class="btn btn-primary" type="submit"><i class="bi bi-save"></i> Save Tenant</button>
        <button class="btn btn-danger" type="button" onclick="window.location.href='/admin/tenants'"><i class="bi bi-x-circle"></i> Discard</button>
      </div>
    </div>
  </form>
{% endblock %}
